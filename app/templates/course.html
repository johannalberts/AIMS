{% extends "base.html" %}

{% block title %}{{ course.title }} - AIMS{% endblock %}

{% block content %}
<div class="container">
    <div class="breadcrumb text-gray-600 dark:text-gray-400">
        <a href="/dashboard" class="text-indigo-600 dark:text-indigo-400 hover:underline">Dashboard</a> / <span class="text-gray-900 dark:text-gray-100">{{ course.title }}</span>
    </div>
    
    <div class="course-detail bg-white dark:bg-gray-800">
        <h1 class="text-gray-900 dark:text-gray-100">{{ course.title }}</h1>
        <div class="course-meta">
            <span class="badge bg-indigo-600 dark:bg-indigo-500 text-white">{{ course.subject }}</span>
            {% if course.difficulty_level %}
            <span class="badge badge-{{ course.difficulty_level }}">{{ course.difficulty_level }}</span>
            {% endif %}
        </div>
        <p class="course-description text-gray-600 dark:text-gray-400">{{ course.description }}</p>
    </div>
    
    <section class="section">
        <h2 class="text-gray-900 dark:text-gray-100">üìñ Lessons</h2>
        <div class="lessons-list">
            {% for lesson in lessons %}
            <div class="lesson-card bg-white dark:bg-gray-800">
                <div class="lesson-number bg-indigo-600 dark:bg-indigo-500 text-white">{{ loop.index }}</div>
                <div class="lesson-content">
                    <h3 class="text-gray-900 dark:text-gray-100">{{ lesson.title }}</h3>
                    <p class="lesson-topic text-indigo-600 dark:text-indigo-400">Topic: {{ lesson.topic }}</p>
                    <p class="lesson-description text-gray-600 dark:text-gray-400">{{ lesson.description }}</p>
                    <div class="lesson-meta text-gray-600 dark:text-gray-400">
                        {% if lesson.estimated_duration_minutes %}
                        <span>‚è±Ô∏è ~{{ lesson.estimated_duration_minutes }} minutes</span>
                        {% endif %}
                        <span>üéØ Mastery threshold: {{ (lesson.mastery_threshold * 100) | int }}%</span>
                    </div>
                </div>
                <div class="lesson-actions">
                    <a href="/lesson/{{ lesson.id }}/start" class="btn btn-primary bg-indigo-600 dark:bg-indigo-500 hover:bg-indigo-700 dark:hover:bg-indigo-600 text-white">Start Assessment</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
</div>
{% endblock %}
